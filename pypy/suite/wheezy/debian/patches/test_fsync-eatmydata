Description: Skip fsync tests when building with eatmydata
Author: Stefano Rivera <stefanor@debian.org>
Forwarded: not-needed
Last-Update: 2012-02-06

--- a/lib-python/2.7/test/test_os.py
+++ b/lib-python/2.7/test/test_os.py
@@ -645,6 +645,8 @@
         except OSError as e:
             self.assertEqual(e.errno, errno.EBADF)
         else:
+            if f.__name__.endswith('sync'):
+                return  # eatmydata won't raise an OSError
             self.fail("%r didn't raise a OSError with a bad file descriptor"
                       % f)
 
