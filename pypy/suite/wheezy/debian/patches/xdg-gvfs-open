Description: Use xdg-open/gvfs-open in webbrowser
Bug-cpython: http://bugs.python.org/issue14493
Bug-Ubuntu: https://bugs.launchpad.net/bugs/971311
Origin: cpython, http://hg.python.org/cpython/rev/70c58903b52e
Author: Michael Vogt <michael.vogt@ubuntu.com>

--- a/lib-python/2.7/webbrowser.py
+++ b/lib-python/2.7/webbrowser.py
@@ -461,6 +461,14 @@
     if "GNOME_DESKTOP_SESSION_ID" in os.environ and _iscommand("gvfs-open"):
         register("gvfs-open", None, BackgroundBrowser("gvfs-open"))
 
+    # use xdg-open if around
+    if _iscommand("xdg-open"):
+        register("xdg-open", None, BackgroundBrowser("xdg-open"))
+
+    # The default GNOME3 browser
+    if "GNOME_DESKTOP_SESSION_ID" in os.environ and _iscommand("gvfs-open"):
+        register("gvfs-open", None, BackgroundBrowser("gvfs-open"))
+
     # The default GNOME browser
     if "GNOME_DESKTOP_SESSION_ID" in os.environ and _iscommand("gnome-open"):
         register("gnome-open", None, BackgroundBrowser("gnome-open"))
